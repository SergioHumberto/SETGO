<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="" xmlns="http://ibatis.apache.org/mapping">

  <alias>
    <typeAlias alias="RamaOBJ" type="WebApplicationTemplate.Objects.RamaOBJ" />
  </alias>

  <statements>
    <select id="SelectRama" parameterClass="RamaOBJ" resultClass="RamaOBJ">
      <![CDATA[
      
      SELECT 
      R.* 
      FROM Rama R
      LEFT JOIN RamaXCarrera RxC ON RxC.IdRama = R.IdRama
      WHERE (#IdRama# <= 0 OR R.IdRama = #IdRama#)
      AND (#IdCarrera# <= 0 OR RxC.IdCarrera = #IdCarrera#)
      AND (#Nombre# IS NULL OR R.Nombre = #Nombre#)
      AND R.Activo = #Activo#
      
      ]]>
    </select>

	  <select id="SelectRamaByIdParticipante" parameterClass="int" resultClass="RamaOBJ">
		  SELECT R.* FROM ParticipanteXCarrera PXC
		  INNER JOIN Rama R ON PXC.IdRama = R.IdRama
		  WHERE PXC.IdParticipante = #value#
	  </select>
	  
  </statements>

</sqlMap>