<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="" xmlns="http://ibatis.apache.org/mapping">

	<alias>
		<typeAlias alias="ConfiguracionResultadosOBJ" type="WebApplicationTemplate.Objects.ConfiguracionResultadosOBJ" />
	</alias>

	<statements>

		<insert id="InsertarConfiguracionResultado" parameterClass="ConfiguracionResultadosOBJ">

			INSERT INTO ConfiguracionResultados(
				IdCarrera
				,Numero
				,Paterno
				,Materno
				,Nombres
				,Folio
				,Sexo
				,Categoria
				,Procedencia
				,Equipo
				,Telefono
				,T_Chip
				,T_Oficial
				,Lug_Cat
				,Lug_Rama
				,Vel
				,Lug_Gral
				,Rama
			)
			VALUES(
				#IdCarrera#
				,#Numero#
				,#Paterno#
				,#Materno#
				,#Nombres#
				,#Folio#
				,#Sexo#
				,#Categoria#
				,#Procedencia#
				,#Equipo#
				,#Telefono#
				,#T_Chip#
				,#T_Oficial#
				,#Lug_Cat#
				,#Lug_Rama#
				,#Vel#
				,#Lug_Gral#
				,#Rama#
			)

			<selectKey type="post" resultClass="int" property="IdConfiguracionResultados">
				SELECT @@IDENTITY
			</selectKey>

		</insert>

		<select id="VerificarConfiguracionDeCarrera" resultClass="int" parameterClass="int" >
			IF EXISTS(
			SELECT * FROM ConfiguracionResultados WHERE IdCarrera = #value#
			)
			BEGIN
				SELECT 1
			END
			ELSE BEGIN
				SELECT 0
			END
		</select>

		<update id="ActualizarConfiguracion" parameterClass="ConfiguracionResultadosOBJ" >
			UPDATE ConfiguracionResultados
			SET 
				Numero = #Numero#
				,Paterno = #Paterno#
				,Materno = #Materno#
				,Nombres = #Nombres#
				,Folio = #Folio#
				,Sexo = #Sexo#
				,Categoria = #Categoria#
				,Procedencia = #Procedencia#
				,Equipo = #Equipo#
				,Telefono = #Telefono#
				,T_Chip = #T_Chip#
				,T_Oficial = #T_Oficial#
				,Lug_Cat = #Lug_Cat#
				,Lug_Rama = #Lug_Rama#
				,Vel = #Vel#
				,Lug_Gral = #Lug_Gral#
				,Rama = #Rama#
			WHERE IdCarrera = #IdCarrera#
		</update>

		<select id="SeleccionarConfiguracionByIdCarrera" resultClass="ConfiguracionResultadosOBJ" parameterClass="int">
			SELECT * FROM ConfiguracionResultados WHERE IdCarrera = #value#
		</select>
		
	</statements>

</sqlMap>